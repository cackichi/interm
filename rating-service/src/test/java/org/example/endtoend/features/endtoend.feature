# language: ru
Функция: Управление рейтингами водителей и пассажиров
  Проверка работы API для управления рейтингами водителей и пассажиров

  Сценарий: Успешное создание рейтинга водителя
    Дано отправлен POST запрос на "/api/v1/drivers/rating" с телом:
      """
      {
        "driverId": "driver1",
        "averageRating": 4.5
      }
      """
    Тогда статус ответа должен быть 201
    И рейтинг водителя сохранен в базе данных

  Сценарий: Успешное получение рейтинга водителя
    Дано существует рейтинг для водителя с ID "driver1"
    Когда отправлен GET запрос на "/api/v1/drivers/rating/driver1"
    Тогда статус ответа должен быть 200
    И в ответе содержится рейтинг "4.5"

  Сценарий: Успешное обновление рейтинга водителя
    Дано существует рейтинг для водителя с ID "driver1"
    Когда отправлен PATCH запрос на "/api/v1/drivers/rating/driver1" с параметром rating="4.8"
    Тогда статус ответа должен быть 204
    И рейтинг водителя обновлен до "4.8"

  Сценарий: Успешное мягкое удаление рейтинга водителя
    Дано существует рейтинг для водителя с ID "driver1"
    Когда отправлен DELETE запрос на "/api/v1/drivers/rating/driver1"
    Тогда статус ответа должен быть 204
    И рейтинг водителя помечен как удаленный в базе данных

  Сценарий: Ошибка при создании рейтинга водителя с недопустимым значением
    Дано отправлен POST запрос на "/api/v1/drivers/rating" с телом:
      """
      {
        "driverId": "driver1",
        "averageRating": 6.0
      }
      """
    Тогда статус ответа должен быть 400

  Сценарий: Успешное создание рейтинга пассажира
    Дано отправлен POST запрос на "/api/v1/passenger/rating" с телом:
      """
      {
        "passengerId": 1,
        "averageRating": 4.5
      }
      """
    Тогда статус ответа должен быть 201
    И рейтинг пассажира сохранен в базе данных

  Сценарий: Успешное получение рейтинга пассажира
    Дано существует рейтинг для пассажира с ID 1
    Когда отправлен GET запрос на "/api/v1/passenger/rating/1"
    Тогда статус ответа должен быть 200
    И в ответе содержится рейтинг "4.5"

  Сценарий: Успешное обновление рейтинга пассажира
    Дано существует рейтинг для пассажира с ID 1
    Когда отправлен PATCH запрос на "/api/v1/passenger/rating/1" с параметром rating="4.8"
    Тогда статус ответа должен быть 204
    И рейтинг пассажира обновлен до "4.8"

  Сценарий: Успешное мягкое удаление рейтинга пассажира
    Дано существует рейтинг для пассажира с ID 1
    Когда отправлен DELETE запрос на "/api/v1/passenger/rating/1"
    Тогда статус ответа должен быть 204
    И рейтинг пассажира помечен как удаленный в базе данных

  Сценарий: Ошибка при обновлении рейтинга пассажира с недопустимым значением
    Дано существует рейтинг для пассажира с ID 1
    Когда отправлен PATCH запрос на "/api/v1/passenger/rating/1" с параметром rating="6.0"
    Тогда статус ответа должен быть 400